---
title: (仮称) 知らなくて損したChef関連ツール
date: 2014-07-17 11:42 JST
tags:
author: Yusuke KUOKA
gravatar: ykuoka@gmail.com
---

こんにちは、クラウドワークスの九岡です。

「知らないと損するChef関連ツール」みたいな期待感を持たせるタイトルも検討しましたが、
あえて等身大ということでこのタイトルにしました！

４月に入社してChef化を本格的に初めて、当時知らなくて苦労したことがいくつかありました。
同じ苦労をする人を少しでも減らすため、「過去の自分に教えるとしたらこれ！」と思えるものを厳選して共有させていただきます。
これからChefを始める・導入する、という方はぜひご活用ください！

READMORE

# chef-shell

最近のChefには最初から同梱されている文字通り「Chefコードを実行できるシェル」です。
chef-shellを起動すると、chef-shellのプロンプトに任意のRubyコード・ChefのDSLを与えて実行することができます。
「そもそもChef的にこの書き方であってるのかどうかわからない」というレベルのChefレシピのデバッグをするとき、
みなさんどうしてますか？
「レシピを修正してknife solo cookで実行」とかしてませんか？
knife solo cookの実行には、レシピの同期・デバッグ対象と関係ないレシピの再実行などいくつか重いフェーズが含まれるので、
こういうデバッグは時間がかかります。効率が悪いです。
そこで、chef-shellを使って、対象サーバ上でChefのコードスニペットを実行してみて、動作確認がとれてからChefレシピに反映しましょう。
調理用がわからないうちは、まず色々試してみてから、おいしくできあがったものだけをレシピ化したいですよね？
Chefでも同じ事です！
